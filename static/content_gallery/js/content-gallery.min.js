(function(b){window.ContentGallery=window.ContentGallery||{};var a=(function(){var m=[];var f=0;var k=null;var c=null;var o=null;function n(q){f=q;if(f>=m.length){return null}return m[f]}function j(){return f}function g(){++f;if(f>=m.length){f=0}return j()}function p(){if(f<=0){f=m.length}--f;return j()}function i(s,r,t,u){f=0;var q=b("#content-gallery").attr("data-url-pattern")+s+"/"+r+"/"+t;b.ajax({url:q,dataType:"json",beforeSend:function(v){if(v.overrideMimeType){v.overrideMimeType("application/json")}},success:function(v){m=v.images;k=v.image_size;c=v.small_image_size;o=v.thumbnail_size;u(m)}})}function e(){return k}function h(){return c}function l(){return o}function d(){return m.length}return{getImage:n,current:j,next:g,prev:p,load:i,getImageSize:e,getSmallImageSize:h,getThumbnailSize:l,count:d}})();ContentGallery.gallery=a})(jQuery);